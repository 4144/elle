<mxGraphModel dx="800" dy="800" grid="1" guides="1" tooltips="1" connect="1" fold="1" page="1" pageScale="1" pageWidth="826" pageHeight="1169" style="default-style2"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="Client 1" style="swimlane" vertex="1" parent="1"><mxGeometry x="30" y="30" width="290" height="1040" as="geometry"/></mxCell><mxCell id="31" value="The client 2 accepts the transaction" style="line;fontStyle=1;fontSize=18" vertex="1" parent="2"><mxGeometry y="330" width="1180" height="10" as="geometry"/></mxCell><mxCell id="38" value="CreateTransactionStatusNotification" style="rounded=1" vertex="1" parent="2"><mxGeometry x="320" y="480" width="230" height="60" as="geometry"/></mxCell><mxCell id="54" value="Set permissions on&#xa;previously copied &#xa;files to the user" style="rounded=1" vertex="1" parent="2"><mxGeometry x="20" y="525" width="230" height="185" as="geometry"/></mxCell><mxCell id="66" value="Update display" style="rounded=1" vertex="1" parent="2"><mxGeometry x="150" y="780" width="100" height="60" as="geometry"/></mxCell><mxCell id="3" value="Meta" style="swimlane" vertex="1" parent="1"><mxGeometry x="320" y="30" width="310" height="1040" as="geometry"/></mxCell><mxCell id="15" value="/transaction/create" style="edgeStyle=none;exitX=1;exitY=0.25" edge="1" parent="3"><mxGeometry x="-80" y="127.5" width="100" height="100" as="geometry"><mxPoint x="-50" y="177.5" as="sourcePoint"/><mxPoint x="100" y="177.5" as="targetPoint"/></mxGeometry></mxCell><mxCell id="20" value="meta.network" style="shape=mxgraph.flowchart.database;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2" vertex="1" parent="3"><mxGeometry x="100" y="30" width="120" height="60" as="geometry"/></mxCell><mxCell id="21" value="meta.transaction" style="shape=mxgraph.flowchart.database;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2" vertex="1" parent="3"><mxGeometry x="100" y="153.5" width="120" height="43" as="geometry"/></mxCell><mxCell id="22" value="CreateTransactionNotification" style="rounded=1" vertex="1" parent="3"><mxGeometry x="40" y="210" width="230" height="60" as="geometry"/></mxCell><mxCell id="23" value="" style="shape=mxgraph.flowchart.database;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2" vertex="1" parent="3"><mxGeometry x="40" y="200" width="30" height="20" as="geometry"/></mxCell><mxCell id="37" value="Update the transaction:&#xa;&#xa;status: answer (= Accepted)&#xa;recipient_device_id: device_id" style="shape=cylinder" vertex="1" parent="3"><mxGeometry x="10" y="370" width="270" height="90" as="geometry"/></mxCell><mxCell id="44" value="TransactionStatusNotification" style="edgeStyle=none;exitX=0;exitY=0.5" edge="1" parent="3" source="39"><mxGeometry x="160" y="560" width="100" height="100" as="geometry"><mxPoint x="160" y="660" as="sourcePoint"/><mxPoint x="-40" y="580" as="targetPoint"/></mxGeometry></mxCell><mxCell id="48" value="/network/add_device" style="edgeStyle=none;exitX=1;exitY=0.25" edge="1" parent="3"><mxGeometry x="-80" y="22.5" width="100" height="100" as="geometry"><mxPoint x="-50" y="72.5" as="sourcePoint"/><mxPoint x="100" y="72.5" as="targetPoint"/></mxGeometry></mxCell><mxCell id="46" value="/network/add_user" style="edgeStyle=none;" edge="1" parent="3"><mxGeometry x="-30" y="562" width="100" height="100" as="geometry"><mxPoint x="-40" y="619.5" as="sourcePoint"/><mxPoint x="100" y="619.5" as="targetPoint"/></mxGeometry></mxCell><mxCell id="56" value="" style="shape=mxgraph.flowchart.database;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2" vertex="1" parent="3"><mxGeometry x="100" y="610" width="30" height="20" as="geometry"/></mxCell><mxCell id="57" value="/transaction/start" style="edgeStyle=none;" edge="1" parent="3"><mxGeometry x="-350" y="575" width="100" height="100" as="geometry"><mxPoint x="-40" y="662.5" as="sourcePoint"/><mxPoint x="100" y="662.5" as="targetPoint"/></mxGeometry></mxCell><mxCell id="59" value="" style="shape=mxgraph.flowchart.database;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2" vertex="1" parent="3"><mxGeometry x="100" y="650" width="30" height="20" as="geometry"/></mxCell><mxCell id="60" value="CreateTransactionStatusNotification" style="rounded=1" vertex="1" parent="3"><mxGeometry x="40" y="700" width="230" height="60" as="geometry"/></mxCell><mxCell id="65" value="TransactionStatusNotification" style="edgeStyle=none;exitX=0;exitY=0.5" edge="1" parent="3"><mxGeometry x="-160" y="759.5" width="100" height="100" as="geometry"><mxPoint x="415" y="809.5" as="sourcePoint"/><mxPoint x="-40" y="809.5" as="targetPoint"/></mxGeometry></mxCell><mxCell id="4" value="Trophonius" style="swimlane" vertex="1" parent="1"><mxGeometry x="630" y="30" width="290" height="1040" as="geometry"/></mxCell><mxCell id="25" value="" style="ellipse;shape=doubleEllipse" vertex="1" parent="4"><mxGeometry x="105" y="240" width="80" height="80" as="geometry"/></mxCell><mxCell id="39" value="" style="ellipse;shape=doubleEllipse" vertex="1" parent="4"><mxGeometry x="105" y="540" width="80" height="80" as="geometry"/></mxCell><mxCell id="41" value="TransactionStatusNotification" style="edgeStyle=none;exitX=1;exitY=0.5" edge="1" parent="4" source="39"><mxGeometry x="240" y="530" width="100" height="100" as="geometry"><mxPoint x="240" y="630" as="sourcePoint"/><mxPoint x="380" y="580" as="targetPoint"/></mxGeometry></mxCell><mxCell id="61" value="" style="ellipse;shape=doubleEllipse" vertex="1" parent="4"><mxGeometry x="105" y="770" width="80" height="80" as="geometry"/></mxCell><mxCell id="5" value="Client 2" style="swimlane" vertex="1" parent="1"><mxGeometry x="920" y="30" width="290" height="1040" as="geometry"/></mxCell><mxCell id="30" value="&#xa;Popup&#xa;" style="rounded=1" vertex="1" parent="5"><mxGeometry x="120" y="265" width="60" height="30" as="geometry"/></mxCell><mxCell id="32" value="gap_answer_transaction(transaction_id, answer)" style="rounded=1" vertex="1" parent="5"><mxGeometry x="10" y="410" width="270" height="30" as="geometry"/></mxCell><mxCell id="43" value="Update display" style="rounded=1" vertex="1" parent="5"><mxGeometry x="90" y="555" width="120" height="60" as="geometry"/></mxCell><mxCell id="64" value="Update display" style="rounded=1" vertex="1" parent="5"><mxGeometry x="110" y="780" width="100" height="60" as="geometry"/></mxCell><mxCell id="67" value="Refresh networks&#xa;and call 8transfert" style="rounded=1" vertex="1" parent="5"><mxGeometry x="100" y="870" width="120" height="130" as="geometry"/></mxCell><mxCell id="10" value="gap_send_file(recipient_id, files)" style="rounded=1;verticalAlign=top" vertex="1" parent="1"><mxGeometry x="40" y="60" width="230" height="250" as="geometry"/></mxCell><mxCell id="14" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;/network/create&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Inputs:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;network_name&lt;/li&gt;&lt;/ul&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Ouputs&lt;/p&gt;&lt;ul&gt;&lt;li&gt;created_network_id&lt;/li&gt;&lt;/ul&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="1290" y="80" width="175" height="220" as="geometry"/></mxCell><mxCell id="16" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;/transaction/create&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Inputs:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;recipient_id_or_email&lt;/li&gt;&lt;li&gt;first_filename&lt;/li&gt;&lt;li&gt;files_count&lt;/li&gt;&lt;li&gt;total_size&lt;/li&gt;&lt;li&gt;is_directory&lt;/li&gt;&lt;li&gt;network_id&lt;/li&gt;&lt;li&gt;device_id&lt;/li&gt;&lt;/ul&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Ouputs&lt;/p&gt;&lt;ul&gt;&lt;li&gt;created_transaction_id&lt;/li&gt;&lt;/ul&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="1520" y="85" width="175" height="250" as="geometry"/></mxCell><mxCell id="24" value="" style="edgeStyle=none;exitX=1;exitY=0.5;entryX=0.5;entryY=0" edge="1" parent="1" source="22" target="25"><mxGeometry x="600" y="170" width="100" height="100" as="geometry"><mxPoint x="600" y="270" as="sourcePoint"/><mxPoint x="700" y="220" as="targetPoint"/></mxGeometry></mxCell><mxCell id="29" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;TransactionNotification&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;&lt;ul&gt;&lt;li&gt;first_filename&lt;/li&gt;&lt;li&gt;files_count&lt;/li&gt;&lt;li&gt;total_size&lt;/li&gt;&lt;li&gt;is_directory&lt;/li&gt;&lt;li&gt;network_id&lt;/li&gt;&lt;li&gt;sender_id&lt;/li&gt;&lt;li&gt;sender_fullname&lt;/li&gt;&lt;li&gt;transaction_id&lt;/li&gt;&lt;/ul&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="2185" y="80" width="175" height="220" as="geometry"/></mxCell><mxCell id="26" value="TransactionNotification" style="edgeStyle=none;exitX=1;exitY=0.5;entryX=0;entryY=0.5" edge="1" parent="1" source="25" target="30"><mxGeometry x="870" y="270" width="100" height="100" as="geometry"><mxPoint x="870" y="370" as="sourcePoint"/><mxPoint x="1030" y="310" as="targetPoint"/></mxGeometry></mxCell><mxCell id="35" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;/transaction/answer&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Inputs:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;transaction_id&lt;/li&gt;&lt;li&gt;device_id&lt;/li&gt;&lt;li&gt;answer&lt;/li&gt;&lt;/ul&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Ouputs&lt;/p&gt;&lt;ul&gt;&lt;li&gt;updated_transaction_id&lt;/li&gt;&lt;/ul&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="1520" y="385" width="175" height="200" as="geometry"/></mxCell><mxCell id="34" value="/transaction/answer" style="edgeStyle=none;exitX=0;exitY=0.5;" edge="1" parent="1"><mxGeometry x="670" y="409.5" width="100" height="100" as="geometry"><mxPoint x="930" y="454.5" as="sourcePoint"/><mxPoint x="600" y="455" as="targetPoint"/></mxGeometry></mxCell><mxCell id="40" value="" style="edgeStyle=none;exitX=1;exitY=0.5;entryX=0.5;entryY=0" edge="1" parent="1" source="38" target="39"><mxGeometry x="590" y="500" width="100" height="100" as="geometry"><mxPoint x="590" y="600" as="sourcePoint"/><mxPoint x="690" y="500" as="targetPoint"/></mxGeometry></mxCell><mxCell id="42" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;TransactionStatusNotification&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;&lt;ul&gt;&lt;li&gt;transaction_id&lt;/li&gt;&lt;li&gt;network_id&lt;/li&gt;&lt;li&gt;sender_device_id&lt;/li&gt;&lt;li&gt;recipient_device_id&lt;/li&gt;&lt;li&gt;recipient_device_name&lt;/li&gt;&lt;li&gt;status&lt;/li&gt;&lt;/ul&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="2160" y="335" width="225" height="220" as="geometry"/></mxCell><mxCell id="47" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;/network/add_user&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Inputs:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;_id&lt;/li&gt;&lt;li&gt;user_id&lt;/li&gt;&lt;/ul&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Ouputs&lt;/p&gt;&lt;ul&gt;&lt;li&gt;updated_network_id&lt;/li&gt;&lt;/ul&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="1290" y="550" width="175" height="220" as="geometry"/></mxCell><mxCell id="11" value="/network/create" style="edgeStyle=none;exitX=1;exitY=0.25" edge="1" parent="1"><mxGeometry x="270" y="62.5" width="100" height="100" as="geometry"><mxPoint x="270" y="82.5" as="sourcePoint"/><mxPoint x="420" y="82.5" as="targetPoint"/></mxGeometry></mxCell><mxCell id="49" value="refresh networks and copy files&#xa;into the mounted infinit network" style="text" vertex="1" parent="1"><mxGeometry x="70" y="130" width="190" height="50" as="geometry"/></mxCell><mxCell id="58" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;/transaction/start&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Inputs:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;transaction_id&lt;/li&gt;&lt;/ul&gt;&lt;hr /&gt;&lt;p style=&quot;margin-left: 1em;&quot;&gt;Ouputs&lt;/p&gt;&lt;ul&gt;&lt;li&gt;updated_transaction_id&lt;/li&gt;&lt;/ul&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="1520" y="615" width="175" height="200" as="geometry"/></mxCell><mxCell id="62" value="" style="edgeStyle=none;exitX=1;exitY=0.5;entryX=0.5;entryY=0" edge="1" parent="1" source="60" target="61"><mxGeometry x="600" y="700" width="100" height="100" as="geometry"><mxPoint x="590" y="740" as="sourcePoint"/><mxPoint x="785" y="770" as="targetPoint"/></mxGeometry></mxCell><mxCell id="63" value="TransactionStatusNotification" style="edgeStyle=none;exitX=1;exitY=0.5;entryX=0;entryY=0.5" edge="1" parent="1" source="61" target="64"><mxGeometry x="247.5" y="759.5" width="100" height="100" as="geometry"><mxPoint x="822.5" y="839.5" as="sourcePoint"/><mxPoint x="1010" y="840" as="targetPoint"/></mxGeometry></mxCell></root></mxGraphModel>