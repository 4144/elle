// -*- c++ -*-
#ifndef ELLE_MAP
# define ELLE_MAP

# include <ostream>
# include_next <map>

namespace elle
{
  template <typename F, typename... T>
  void
  fprintf(std::ostream& out,
          F&& fmt,
          T&&... values);
}

namespace std
{
  template <class K, class V, class ...OTHER>
  std::ostream&
  operator <<(ostream& out,
              map<K, V, OTHER...> const& map)
  {
    out << "{";
    bool first = true;
    for (auto const& elt: map)
    {
      if (first)
        first = false;
      else
        out << ", ";
      elle::fprintf(out, "%s: %s", elt.first, elt.second);
    }
    out << "}";
    return out;
  }

  template <typename E, typename ... Args>
  bool
  contains(std::map<Args...> const& map, E const& e)
  {
    return map.find(e) != map.end();
  }
}

#endif
