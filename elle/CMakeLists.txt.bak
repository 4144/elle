PROJECT(Elle CXX)

ADD_LIBRARY(elle
  package/Archive.cc
  core/Large.cc
  core/Null.cc
  cryptography/Cipher.cc
  cryptography/Code.cc
  cryptography/Cryptography.cc
  cryptography/Digest.cc
  cryptography/KeyPair.cc
  cryptography/OneWay.cc
  cryptography/PrivateKey.cc
  cryptography/PublicKey.cc
  cryptography/SecretKey.cc
  cryptography/Signature.cc
  io/IO.cc
  miscellaneous/Region.cc
  miscellaneous/Report.cc
  system/System.cc
)

ADD_EXECUTABLE(archive
  test/package/Generator.cc
  test/package/Pack.cc
  test/package/Referee.cc
  test/package/Test.cc
)

ADD_EXECUTABLE(crypto2
  test/cryptography/Test.cc
)

TARGET_LINK_LIBRARIES(archive elle ssl crypto dl)
TARGET_LINK_LIBRARIES(crypto2 elle ssl crypto dl)

INSTALL(
  TARGETS elle
  ARCHIVE DESTINATION ${INFINIT_LIBDIR})

INSTALL(FILES
  Elle.hh
  DESTINATION ${INFINIT_INCLUDEDIR}/elle)

INSTALL(FILES
  package/Archivable.hh
  package/Archive.hh
  package/Archive.hxx
  DESTINATION ${INFINIT_INCLUDEDIR}/elle/archive)

INSTALL(FILES
  core/Boolean.hh
  core/Character.hh
  core/Core.hh
  core/Core.hxx
  core/Integer.hh
  core/Large.hh
  core/Natural.hh
  core/Null.hh
  core/Object.hh
  core/Real.hh
  core/String.hh
  DESTINATION ${INFINIT_INCLUDEDIR}/elle/core)

INSTALL(FILES
  cryptography/Cipher.hh
  cryptography/Clear.hh
  cryptography/Code.hh
  cryptography/Cryptography.hh
  cryptography/Digest.hh
  cryptography/KeyPair.hh
  cryptography/OneWay.hh
  cryptography/Plain.hh
  cryptography/PrivateKey.hh
  cryptography/PublicKey.hh
  cryptography/SecretKey.hh
  cryptography/Signature.hh
  DESTINATION ${INFINIT_INCLUDEDIR}/elle/crypto)

INSTALL(FILES
  io/Dumpable.hh
  io/IO.hh
  DESTINATION ${INFINIT_INCLUDEDIR}/elle/io)

INSTALL(FILES
  miscellaneous/Byte.hh
  miscellaneous/Misc.hh
  miscellaneous/Region.hh
  miscellaneous/Report.hh
  miscellaneous/Status.hh
  DESTINATION ${INFINIT_INCLUDEDIR}/elle/misc)

INSTALL(FILES
  system/System.hh
  DESTINATION ${INFINIT_INCLUDEDIR}/elle/system)
