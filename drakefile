import drake

def configure(cxx_toolkit = None,
              cxx_config = None,
              boost = None,
              curl = None,
              openssl = None,
              prefix = '/usr'):

  elle = drake.include('elle',
                       cxx_toolkit = cxx_toolkit,
                       cxx_config = cxx_config,
                       boost = boost,
                       curl = curl,
                       prefix = prefix)
  crypto = drake.include('cryptography',
                         cxx_toolkit = cxx_toolkit,
                         cxx_config = cxx_config,
                         openssl = openssl,
                         boost = boost,
                         elle = elle,
                         prefix = prefix)

  build = drake.Rule('build')
  build << elle.rule_build
  build << crypto.rule_build

  build = drake.Rule('check')
  build << elle.rule_check
  build << crypto.rule_check

  install = drake.Rule('install')
  install << elle.rule_install
  install << crypto.rule_install
